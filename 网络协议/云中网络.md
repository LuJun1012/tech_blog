# 云中网络
#### 注意事项
* 共享
* 隔离 vconfig基于物理网卡创建带VLAN的虚拟网卡
* 互通 
* 灵活

#### 访问外网
* 桥接

#### iptables功能
* 连接追踪
* 数据包过滤
* 网络地址转换
* 数据包的修改

#### snat
* Netfilter 的连接跟踪（conntrack）功能实现返回的请求还原成具体的私网IP

#### 云中网络流量控制
* 云中的流量控制主要通过队列进行的，队列分为两大类：无类别队列规则和基于类别的队列规则。
* 在云中网络 Openvswitch 中，主要使用的是分层令牌桶规则（HTB），将总的带宽在一棵树上按照配置的比例进行分配，并且在一个分支不用的时候，可以借给另外的分支，从而增强带宽利用率。

#### 网络隔离
* 底层的物理网络设备组成的网络我们称为Underlay 网络
* 虚拟机和云中的这些技术组成的网络称为Overlay 网络

#### GRE
* ![b189df0a6ee4b0462818bf2f154](media/15447000048936/b189df0a6ee4b0462818bf2f154c9531.jpg)

#### VXLAN
* ![3b02d54c9093e3de6d1a847dd0eb060f](media/15447000048936/3b02d54c9093e3de6d1a847dd0eb060f.jpg)
* 