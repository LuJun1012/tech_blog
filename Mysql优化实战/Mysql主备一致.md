# Mysql主备一致
#### delete导致主备不一致
* 在主库执行这条 SQL 语句的时候，用的是索引 a；而在备库执行这条 SQL 语句的时候，却使用了索引 t_modified。主从选择的索引不一样
* 线上binlog格式设置为mixed

#### row格式好处
* 恢复数据比较快
* Flashback工具
* binlog的日志解析出来不能直接拷贝执行
* 记录操作的记录的主键真实的值
* 

#### 循环复制问题
*  log_slave_updates=on可以让备库执行relay log后生成binlog

#### 线上生产库非双一
* 业务高峰期。一般如果有预知的高峰期，DBA 会有预案，把主库设置成“非双 1”。
* 备库延迟，为了让备库尽快赶上主库。
* 用备份恢复主库的副本，应用 binlog 的过程，这个跟上一种场景类似。
* 批量导入数据的时候。

