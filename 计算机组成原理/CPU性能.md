# CPU性能
#### 性能指标
* 响应时间
* 吞吐率

#### 计算机的计时单位
* CPU时钟
* wall clock time , Elapsed Time 记录程序运行结束的时间减去程序开始运行的时间
* real time，也就是我们说的 Wall Clock Time，也就是运行程序整个过程中流逝掉的时间
* user time，也就是 CPU 在运行你的程序，在用户态运行指令的时间
* sys time，是 CPU 在运行你的程序，在操作系统内核里运行指令的时间![c2892bc899e5a9ad5c04c10f57705127](media/15566729397801/c2892bc899e5a9ad5c04c10f57705127.jpg)

#### 性能优化三指标
* 程序的 CPU 执行时间 =CPU 时钟周期数×时钟周期时间
* 程序的 CPU 执行时间 = 指令数×CPI×Clock Cycle Time
* 时钟周期时间，就是计算机主频，这个取决于计算机硬件。我们所熟知的摩尔定律就一直在不停地提高我们计算机的主频。比如说，我最早使用的 80386 主频只有 33MHz，现在手头的笔记本电脑就有 2.8GHz，在主频层面，就提升了将近 100 倍。
* 每条指令的平均时钟周期数 CPI，就是一条指令到底需要多少 CPU Cycle。在后面讲解 CPU 结构的时候，我们会看到，现代的 CPU 通过流水线技术（Pipeline），让一条指令需要的 CPU Cycle 尽可能地少。因此，对于 CPI 的优化，也是计算机组成和体系结构中的重要一环。
* 指令数，代表执行我们的程序到底需要多少条指令、用哪些指令。这个很多时候就把挑战交给了编译器。同样的代码，编译成计算机指令时候，就有各种不同的表示方式。

#### 问题
* user + sys 运行出来会比real time多
* 是因为多核并行执行程序

#### 跑分软件作弊
* 一是检测到跑分软件就放开温度墙和功耗墙的限制 相当于提高主频
* 二是跑分程序对于机型做了专门优化 相当于优化CPI和减少指令数